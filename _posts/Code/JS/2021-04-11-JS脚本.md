---
layout: post
title: JS脚本
category: 代码
tags: JS
keywords: 
typora-root-url: ..\..\..\
typora-copy-images-to: ..\..\..\public\zimage
---

## 简介
 * TOC
 {:toc}


## 鼠标双击下页脚本

```

// ==UserScript==
// @name         Zukgit自研双击下一页脚本
// @name:zh-CN   Zukgit自研双击下一页脚本
// @name:zh-TW   Zukgit自研双击下一页脚本
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  hello world
// @author       You
// @match        http://*/*
// @match        https://*/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// @run-at       document-end
// ==/UserScript==

(function() {
    'use strict';

    // Your code here...
	console.log("location.hostname:",location.hostname);
	console.log("location:",location);
	console.log("location.href:",location.href);

	
	
	// alert('测试Zukgit脚本! location.hostname:'+location.hostname);
	//  https://www.ahhhhfs.com/page/4/
	var curPageUrl = location.href;

	var nextPageUrl = getCurrentPageIndex(curPageUrl);

    var flag_is_undefined = (typeof nextPageUrl === 'undefined');

	console.log(" nextPageUrl :",nextPageUrl +"   【flag_is_undefined:"+flag_is_undefined+"】");
	if (flag_is_undefined ) {
		 console.log("xxxxxxxxxxxxxxxx nextPageUrl :",nextPageUrl +" xxxxxxxxxxxxxxxx  Failed!");
    } else {
		
		console.log("________________ nextPageUrl :",nextPageUrl +" Success!");
		
		    document.addEventListener('dblclick', onDocumenDblClick);

        	document.onkeydown = function(event) {
        	var e = event || window.event || arguments.callee.caller.arguments[0];
        	if (e && e.keyCode == 27) {
        		//alert("按 Esc");
        	}
        	if (e && e.keyCode == 32) {
        		//alert("按空格__nextPageUrl"+nextPageUrl);
				GoToPage_InOne_Windows(nextPageUrl);
        	}
        	if (e && e.keyCode == 13) {
        		//alert("按回车");
        	}
        };

    function onDocumenDblClick(event) {
        //alert("鼠标双击__nextPageUrl"+nextPageUrl);
		GoToPage_InOne_Windows(nextPageUrl);
      }
	  
	}
	

	function GoToPage_InOne_Windows(rawUrl ) {
		location.href=rawUrl;
	}

    function Page_Info(mIndex,pre,end,step)
    {
        this.page_index=mIndex;
        this.page_pre=pre;
        this.page_end=end;
        this.page_step=step;
    }


        
	    // 获取 下一个页面的 URL 
	    // https://www.aisixiang.com/data/search?column=33&page=4         数字在最后的情况
    function getCurrentPageIndex(rawUrl ) {
        var Page_Index = 0;
        var Page_Info_List=new Array(
    	    new Page_Info(Page_Index++,"https://www.ahhhhfs.com/page/","/",1),   // 【 https://www.ahhhhfs.com/page/2/ 】
    	    new Page_Info(Page_Index++,"https://project-gutenberg.github.io/Pincong/page/","/",1),   // 【https://github.com/houshanren?page=2&tab=repositories】
    	    new Page_Info(Page_Index++,"?page=","&tab=repositories",1),   // 【https://github.com/houshanren?page=2&tab=repositories】
            new Page_Info(Page_Index++,"https://www.guancha.cn/ChanJing/list_",".shtml",1),// 【https://www.guancha.cn/ChanJing/list_2.shtml】
    	    new Page_Info(Page_Index++,"https://greasyfork.org/zh-CN/scripts?page=","",1),   // 【  https://greasyfork.org/zh-CN/scripts?page=2 】
            new Page_Info(Page_Index++,"https://www.aisixiang.com/data/search?column=33&page=","",1),// 【 https://www.aisixiang.com/data/search?column=33&page=2 】
    	    new Page_Info(Page_Index++,"https://www.52pojie.cn/forum-2-",".html",1),// 【 https://www.52pojie.cn/forum-2-2.html 】
			new Page_Info(Page_Index++,"https://www.guancha.cn/CaiJing/list_",".shtml",1),// 【 https://www.guancha.cn/CaiJing/list_2.shtml 】
			new Page_Info(Page_Index++,"https://www.pixiv.net/tags/R-18/artworks?p=","&s_mode=s_tag",1),// 【 https://www.pixiv.net/tags/R-18/artworks?p=3&s_mode=s_tag 】
    	    );
    
            for (var i = 0; i < Page_Info_List.length; i++) {
                 var mPage_Info =   Page_Info_List[i];
            	 console.log("══════════════ Begin PageList["+i+"_"+Page_Info_List.length+"]____page_index=["+mPage_Info.page_index+"]  page_pre=["+mPage_Info.page_pre+"]  page_end=["+mPage_Info.page_end+"]   page_step=["+mPage_Info.page_step+"]" +"Begin ═══════════════"  );
            
            			var Page9999_Index = mPage_Info.page_index;
            			var Page9999_Pre = mPage_Info.page_pre;
            			var Page9999_End = mPage_Info.page_end;
            			var Page9999_One_Step= mPage_Info.page_step;
            	
            			if(rawUrl.indexOf(Page9999_Pre) >= 0 && rawUrl.indexOf(Page9999_End) >= 0){
            				console.log(" Page9999_Pre="+(Page9999_Pre)+"  Page9999_End="+Page9999_End);
            				console.log(" Page9999_Pre_Length="+(Page9999_Pre.length)+"  Page9999_End_Length="+(rawUrl.length-Page9999_End.length));
            				console.log("【indexOf_Page9999_Pre_Index:"+rawUrl.indexOf(Page9999_Pre) +"】    【indexOf_Page9999_End_Index:"+rawUrl.lastIndexOf(Page9999_End) +"】"); 
                            var Page9999_Index_Str = rawUrl.substring(rawUrl.indexOf(Page9999_Pre)+Page9999_Pre.length,rawUrl.lastIndexOf(Page9999_End));
            				console.log("【Page9999_Index_Str:"+Page9999_Index_Str +"】    【rawUrl:"+rawUrl+"】");
            				if(!isNaN(Number(Page9999_Index_Str))){
            					var Page9999_Index_Int = parseInt(Page9999_Index_Str, 10);
            					var Page9999_NextPage_Int = Page9999_Index_Int + Page9999_One_Step;
            				    console.log("【Page9999_Index_Int:"+Page9999_Index_Int +"】  【Page9999_Index_Str:"+Page9999_Index_Str+"】");
            					console.log("【Page9999(Pre)_rawUrl.substring(0,rawUrl.indexOf(Page9999_Pre)+Page9999_Pre.length):"+rawUrl.substring(0,rawUrl.indexOf(Page9999_Pre)+Page9999_Pre.length) +"】 ");
            				    console.log("【Page9999_NextPage_Int:"+Page9999_NextPage_Int +"】 ");
            					console.log("【Page9999(End):"+Page9999_End +"】 ");
            					var Page9999_NextPage_URL = rawUrl.substring(0,rawUrl.indexOf(Page9999_Pre)+Page9999_Pre.length)+Page9999_NextPage_Int+Page9999_End;
            					console.log("【Page9999_NextPage_URL:"+Page9999_NextPage_URL +"】 ");
                                return Page9999_NextPage_URL;
                            } else {
            					console.log("【Page9999_Index_Str:"+Page9999_Index_Str +" parse Failed please check ！】  ");
            				}
                        }
            	 console.log("══════════════ End PageList["+i+"_"+Page_Info_List.length+"]____page_index=["+mPage_Info.page_index+"]  page_pre=["+mPage_Info.page_pre+"]  page_end=["+mPage_Info.page_end+"]   page_step=["+mPage_Info.page_step+"]" +"End ═══════════════"  );
            
            }
    
    }


})();







```