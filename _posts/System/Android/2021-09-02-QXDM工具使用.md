---
layout: post
title: QXDM工具使用
category: 系统
tags: Android Vendor
keywords: Android Vendor Qcom
typora-root-url: ..\..\..\
typora-copy-images-to: ..\..\..\public\zimage
---


## 简介
 * TOC
 {:toc}
##  常用Filter-ID 列表说明

###  0x1386  CGPS Report Server Tx_设备发送

```


```


### 0x1387  CGPS Report Server Rx_设备接收

```


```

### 0x1476  GNSS Position Report_位置报告

####  导出手机位置kml文件

```
在 QCAT中 搜索 0x1476 GNSS 点击 <Process> 之后
选中 Configuration 面板 查看 Output Directory 打开该路径就有谷歌地图 .kml 文件

```



###  0x147B  GNSS CD DB Report


####  查看xtra数据的下载成功与否
```
做冷启动测试：

可以查看辅助数据的数据库状态， 来看辅助数据是否下载成功。这个可以如下看xtra数据的下载成功与否,或者如下方法:

用qcat搜过0x147B,

查看GpsEphMask和GpsAlmMask是否有数据:

GpsEphMask = 0x00000000  (# 0):[]

GpsAlmMask = 0x00000000  (# 0):[]

如果下载成功,如下:

GpsEphMask = 0x00201328  (# 6):[4,6,9,10,13,22,]

GpsAlmMask = 0x00FFFFFF  (#24):[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,]


```

####  查看xtra数据下载成功
```
使用QCAT打开qxdm日志, 然后搜索0x147B, 在View->Parser View可以分析是否download XTRA

///no xtra data
2019 Dec 11 08:27:44.627 [01] 0x147B GNSS CD DB Report
q_GpsAlmMask {
Raw (Count) List = 0x0( 0) 0
}
q_GpsXtraWmVersionNum = 0
u_GpsXtraVersion = 0
u_GpsXtraWmId = { 0, 0, 0, 0, 0, 0 }
q_GpsXtraFileId = 0
}
u_GpsXtraFitLengthHours = 0
u_GpsXtraFitNum = 0
w_GpsXtraAppWeek = 0

// have xtra data:
2019 Dec 11 08:27:47.666 [01] 0x147B GNSS CD DB Report
q_GpsAlmMask {
Raw (Count) List = 0xFFFDFFFF( 31) 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 19 | 20 | 21 | 22 | 23 | 24 | 25 | 26 | 27 | 28 | 29 | 30 | 31 | 32
}
q_GpsXtraWmVersionNum = 134283797
u_GpsXtraVersion = 3

u_GpsXtraFitLengthHours = 6
u_GpsXtraFitNum = 28
w_GpsXtraAppWeek = 2083
w_GpsXtraAppMs = 284400000
w_GpsXtraInjWeek = 2083
w_GpsXtraInjMs = 289684002

```

## 常见问题

###  移动商业报警系统    WEA(Wireless Emergency Alerts)

```
【CMAS(Commercial mobile alert system)移动商业报警系统    WEA(Wireless Emergency Alerts)】
https://blog.csdn.net/aaa111/article/details/79361595          网页说明
WEA 是基于小区广播服务的，那它的接收也是和小区广播一样（手机端）它独有的地方在于要配置WEA 相关的mids（Message ID）或者说Channel ID 到modem
而Modem端的mids来源于代码，SIM卡，NV值等
QCAT 中搜搜
0x1386 (CGPS Report Server Tx)
0x1387 (CGPS Report Server Rx) 进行过滤
0xB0ED (LTE NAS EMM Plain OTA outgoing Message)
0xB0EC (LTE NAS EMM Plain OTA incoming Message)  进行过滤


```



### GPS天线干扰排查

```
【QCAT 中 Displays > QCAT Sample > GNSS > GNSS RF Bp Amp Pga Gain Data QCAT-GNSS-天线干扰】

Bp Amp应该在90-350  min-max 否则就有干扰


```
